<!DOCTYPE html>
<html lang="ko">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>ROKEY</title>
    <link
      href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="styles.css" />
    <link rel="manifest" href="manifest.json" />
  </head>
  <body>
    <div class="container">
      <h1 class="header">Doosan M0609 Robot Interface</h1>

      <div class="main-content">
        <div class="control-panels">
          <div class="control-and-log-section">
            <div class="panel glassmorphism joint-control">
              <h2>Joint Control (MoveJ)</h2>
              <div class="input-group">
                <div class="joint-inputs">
                  <label data-label="J1">J1 (deg):</label>
                  <input type="number" value="0.001" step="0.001" />

                  <label data-label="J2">J2 (deg):</label>
                  <input type="number" value="0.003" step="0.001" />

                  <label data-label="J3">J3 (deg):</label>
                  <input type="number" value="90.000" step="0.001" />

                  <label data-label="J4">J4 (deg):</label>
                  <input type="number" value="-0.000" step="0.001" />

                  <label data-label="J5">J5 (deg):</label>
                  <input type="number" value="90.000" step="0.001" />

                  <label data-label="J6">J6 (deg):</label>
                  <input type="number" value="-0.000" step="0.001" />
                </div>

                <div class="speed-acc">
                  <label>Speed / Acc: (0 – 100)</label>
                  <div class="speed-input">
                    <label>Velocity:</label>
                    <input
                      type="range"
                      min="0"
                      max="100"
                      value="60"
                      class="slider"
                      id="velocityJ"
                    />
                    <span id="velocityJValue">60</span>
                  </div>
                  <div class="speed-input">
                    <label>Acceleration:</label>
                    <input
                      type="range"
                      min="0"
                      max="100"
                      value="60"
                      class="slider"
                      id="accelerationJ"
                    />
                    <span id="accelerationJValue">60</span>
                  </div>
                </div>
              </div>

              <div class="panel-buttons">
                <button class="control-button move-button primary">
                  MOVE(J)
                </button>
                <button class="control-button copy-button secondary">
                  COPY
                </button>
              </div>
            </div>

            <div class="panel glassmorphism cartesian-control">
              <h2>Cartesian Control (MoveL)</h2>
              <div class="input-group">
                <div class="cartesian-inputs">
                  <label data-label="X">X (mm):</label>
                  <input type="number" value="367.315" step="0.001" />

                  <label data-label="Y">Y (mm):</label>
                  <input type="number" value="6.992" step="0.001" />

                  <label data-label="Z">Z (mm):</label>
                  <input type="number" value="424.293" step="0.001" />

                  <label data-label="A">A (deg):</label>
                  <input type="number" value="98.566" step="0.001" />

                  <label data-label="B">B (deg):</label>
                  <input type="number" value="179.978" step="0.001" />

                  <label data-label="C">C (deg):</label>
                  <input type="number" value="98.468" step="0.001" />
                </div>

                <div class="speed-acc">
                  <label>Speed / Acc: (0 – 100)</label>
                  <div class="speed-input">
                    <label>Velocity:</label>
                    <input
                      type="range"
                      min="0"
                      max="100"
                      value="60"
                      class="slider"
                      id="velocityL"
                    />
                    <span id="velocityLValue">60</span>
                  </div>
                  <div class="speed-input">
                    <label>Acceleration:</label>
                    <input
                      type="range"
                      min="0"
                      max="100"
                      value="60"
                      class="slider"
                      id="accelerationL"
                    />
                    <span id="accelerationLValue">60</span>
                  </div>
                </div>
              </div>

              <div class="panel-buttons">
                <button class="control-button move-button primary">
                  MOVE(L)
                </button>
                <button class="control-button copy-button secondary">
                  COPY
                </button>
              </div>
            </div>
          </div>

          <div class="panel glassmorphism log-panel-section full-width-log">
            <h2>Real-time Robot Script Log</h2>
            <pre id="robot-log">
[12:32:05] [CMD_BRG] [movej] 좌표 갱신 완료.
[14:05:03] [INFO] dsc01_spawner_dsr_controller2]: [92mConfigured and activated [1mDsrController2[0m
[14:15:24] [CMD_BRG]
[새 홈 복귀 명령] : 실행 스레드 시작
[14:15:24] [CMD_BRG]
[홈 복귀 좌표 초기화]
[14:15:24] [CMD_BRG] > [go_home] 목표 좌표: [0.0, 0.0, 90.0, 0.0, 90.0, 0.0]
[14:15:27] [CMD_BRG] DEBUG: go_home (move) 반환값: 0
[14:15:28] [CMD_BRG] [go_home] 현재 좌표 동기...
[14:15:28] [CMD_BRG] [go_home] 좌표 갱신 완료.
            </pre>
          </div>
        </div>

        <div class="status-panel">
          <div class="panel glassmorphism status-info-section flex-grow-status">
            <h2>Status & Tools</h2>

            <div class="status-buttons">
              <button class="status-button green">TCP 확인</button>
              <button class="status-button gray">Tool 확인</button>
              <button class="status-button yellow">HOME</button>
              <button class="status-button blue">현재 좌표로 초기화</button>
              <button
                class="status-button"
                id="install-btn"
                style="display: none"
              >
                Install
              </button>
            </div>
            <div class="current-status-info">
              <h3>Current Command/Robot Status:</h3>
              <p><strong>Coordinate Sync Completed</strong></p>

              <h3>Current TCP Setting:</h3>
              <p class="tool-value">GripperDA_mh</p>

              <h3>Current Tool Setting:</h3>
              <p class="tool-value">Toolweight</p>
            </div>

            <div class="status-buttons">
              <button class="status-button primary-action blue-main">
                시작
              </button>
              <button class="status-button stop-action red-main">종료</button>
            </div>
          </div>

          <div class="panel glassmorphism developer-info-section">
            <h2>Developers</h2>
            <div class="developer-list">
              <p>강종아</p>
              <p>김재우</p>
              <p>박현근</p>
              <p>오준식</p>
              <p>황규빈</p>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script src="scripts.js"></script>
    <script>
      if ("serviceWorker" in navigator) {
        window.addEventListener("load", () => {
          navigator.serviceWorker
            .register("/sw.js")
            .then(() => console.log("SW registered"))
            .catch((err) => console.error("SW fail", err));
        });
      }
    </script>
  </body>
</html>
